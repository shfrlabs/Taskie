<Flyout
    x:Class="Taskie.FairmarkFlyout"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:Taskie"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:models="using:TaskieLib.Models"
    xmlns:lib="using:TaskieLib"
    mc:Ignorable="d">
    <Flyout.Content>
        <StackPanel Orientation="Vertical" MinWidth="250" Margin="-15,-12" x:Name="panel">
            <ListView Loaded="ListView_Loaded" SelectionChanged="ListView_SelectionChanged">
                <ListView.Resources>
                    <lib:ColorsGradientConverter x:Key="TagGradientConverter"/>
                </ListView.Resources>
                <ListView.ItemTemplate>
                    <DataTemplate x:DataType="models:FairmarkNoteData">
                        <Grid Background="{Binding colors, Converter={StaticResource TagGradientConverter}, Mode=OneWay}" Margin="-12, -7, -8, -5" Padding="12, 7, 8, 5" CornerRadius="3" Height="35">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="25"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <FontIcon Glyph="{x:Bind emoji, Mode=OneWay}" FontFamily="Segoe UI Emoji" Grid.Column="0" HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="12"/>
                            <TextBlock Text="{x:Bind name, Mode=OneWay}" TextWrapping="NoWrap" TextTrimming="CharacterEllipsis" Grid.Column="1" VerticalAlignment="Center" FontSize="11" Margin="5,0,0,0"/>
                        </Grid>
                    </DataTemplate>
                </ListView.ItemTemplate>
            </ListView>
            <Button Margin="5,5,5,2" CornerRadius="3" HorizontalAlignment="Stretch" Style="{ThemeResource AccentButtonStyle}" x:Name="AttachButton" IsEnabled="False" Click="AttachButton_Click">~Attach selected note</Button>
        </StackPanel>
    </Flyout.Content>
</Flyout>
